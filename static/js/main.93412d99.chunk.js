(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{265:function(e,t,n){e.exports=n(449)},448:function(e,t,n){},449:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"setToken",function(){return ae}),n.d(a,"logout",function(){return re});var r={};n.r(r),n.d(r,"notify",function(){return se}),n.d(r,"notifySuccess",function(){return ue}),n.d(r,"notifyError",function(){return me}),n.d(r,"notifyWarning",function(){return de});var c=n(0),l=n.n(c),i=n(25),o=n.n(i),s=n(28),u=n(21),m=n(34),d=n(40),f=n(205),p=n(63),g=n(189),E=n(190),b=n(39),h=new f.a,v=Object(g.createUploadLink)({uri:"http://localhost:8000/graphql"}),y=Object(E.a)(function(e){e.graphQLErrors,e.networkError}),O=b.a.from([y,v]),w=new p.a({link:O,cache:h}),j=n(48),k=n(191),N={message:{}},S=n(44),x={token:""},C=Object(j.combineReducers)({notifications:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NOTIFICATIONS/NEW":return{message:t.message};default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER/SET_TOKEN":return Object(S.a)({},e,{token:t.token});case"USER/CLEAR_TOKEN":return{token:""};default:return e}}}),T=Object(j.createStore)(C,Object(k.composeWithDevTools)()),I=Object(d.createMuiTheme)({typography:{useNextVariants:!0},overrides:{MuiButton:{label:{textTransform:"none"}},MuiTableRow:{root:{cursor:"pointer"}}},props:{MuiTextField:{variant:"outlined"}}}),A=n(38),F=n(2),q=n(29),U=n(30),L=n.n(U);function R(){var e=Object(q.a)(["\n  mutation($type: String!, $identifier: String!, $serial: String) {\n    createAsset(type: $type, identifier: $identifier, serial: $serial) {\n      id\n      type\n      identifier\n      tracker {\n        serial\n      }\n    }\n  }\n"]);return R=function(){return e},e}function $(){var e=Object(q.a)(["\n  query {\n    assets {\n      id\n      type\n      identifier\n      tracker {\n        id\n        serial\n      }\n    }\n  }\n"]);return $=function(){return e},e}var W=L()($()),K=L()(R()),B=n(45),M=n(20),J=n(23),D=n(89),H=n.n(D),P=Object(J.a)(Object(d.withStyles)(function(){return{}}),u.c)(function(e){var t=e.classes,n=e.client,a=Object(c.useState)(!1),r=Object(M.a)(a,2),i=r[0],o=r[1],s=Object(c.useState)({name:"",type:"",tracker:""}),u=Object(M.a)(s,2),m=u[0],d=u[1],f=function(){return o(!1)},p=function(e){return function(t){var n=t.target.value;return d(function(t){return Object(S.a)({},t,Object(B.a)({},e,n))})}};return l.a.createElement(l.a.Fragment,null,l.a.createElement(F.i,{color:"primary",className:t.fab,onClick:function(){return o(!0)}},l.a.createElement(H.a,null)),l.a.createElement(F.c,{open:i},l.a.createElement(F.f,null,"Create New Asset"),l.a.createElement(F.e,null,l.a.createElement(F.y,{label:"Name",value:m.name,onChange:p("name"),variant:"outlined",fullWidth:!0,margin:"dense"}),l.a.createElement(F.y,{label:"Type",value:m.type,onChange:p("type"),variant:"outlined",fullWidth:!0,margin:"dense",select:!0},l.a.createElement(F.p,{value:"crate"},"Crate")),l.a.createElement(F.y,{label:"Tracker Serial Number (Optional)",value:m.tracker,onChange:p("tracker"),variant:"outlined",fullWidth:!0,margin:"dense"})),l.a.createElement(F.d,null,l.a.createElement(F.b,{onClick:f},"Cancel"),l.a.createElement(F.b,{variant:"contained",color:"primary",onClick:function(){var e={identifier:m.name,type:m.type};m.tracker.length&&(e.serial=m.tracker),n.mutate({mutation:K,variables:e}).then(function(e){var t=e.error,n=e.data;t&&alert(t),n&&f()}).catch(function(e){return alert(e)})}},"Create"))))}),z=Object(d.withStyles)(function(e){return{root:{margin:3*e.spacing.unit,width:"100%"},header:{alignItems:"center",display:"flex",justifyContent:"space-between",margin:e.spacing.unit}}})(function(e){var t=e.classes;return l.a.createElement("div",{className:t.root},l.a.createElement("div",{className:t.header},l.a.createElement(F.A,{variant:"h6"},"Assets"),l.a.createElement(P,null)),l.a.createElement(F.q,null,l.a.createElement(F.t,{className:t.table},l.a.createElement(F.w,null,l.a.createElement(F.x,null,l.a.createElement(F.v,null,"Name"),l.a.createElement(F.v,null,"Type"),l.a.createElement(F.v,null,"Nearest Address"),l.a.createElement(F.v,null,"Tracker Serial"))),l.a.createElement(F.u,null,l.a.createElement(u.b,{query:W},function(e){var n=e.data,a=e.loading,r=e.error;return a||r?null:n.assets.map(function(e){return l.a.createElement(F.x,{key:e.id,className:t.tableRow,hover:!0},l.a.createElement(F.v,null,e.identifier),l.a.createElement(F.v,null,e.type),l.a.createElement(F.v,null,"1234 Jones Street, Lafayette, LA 54321"),l.a.createElement(F.v,null,e.tracker?e.tracker.serial:"-"))})})))))}),V=Object(d.withStyles)(function(){return{root:{display:"flex",justifyContent:"center",paddingTop:200,width:"100%"}}})(function(e){var t=e.classes,n=e.match;return l.a.createElement("div",{className:t.root},l.a.createElement(A.d,null,l.a.createElement(A.b,{path:n.url+"/login",component:qe}),l.a.createElement(A.b,{path:n.url+"/register",component:Ue}),l.a.createElement(A.a,{to:"/auth/login"})))}),_=n(43),G=n.n(_),Q=n(61),Z=n(62),X=n.n(Z);function Y(){var e=Object(q.a)(["\n  mutation($username: String!, $email: String!, $password: String!) {\n    signUp(username: $username, email: $email, password: $password) {\n      token\n    }\n  }\n"]);return Y=function(){return e},e}function ee(){var e=Object(q.a)(["\n  mutation($login: String!, $password: String!) {\n    signIn(login: $login, password: $password) {\n      token\n    }\n  }\n"]);return ee=function(){return e},e}var te=L()(ee()),ne=L()(Y()),ae=function(e){return{type:"USER/SET_TOKEN",token:e}},re=function(){return{type:"USER/CLEAR_TOKEN"}},ce="info",le="success",ie="error",oe="warning",se=function(e){return{type:"NOTIFICATIONS/NEW",message:{body:e,variant:ce}}},ue=function(e){return{type:"NOTIFICATIONS/NEW",message:{body:e,variant:le}}},me=function(e){return{type:"NOTIFICATIONS/NEW",message:{body:e,variant:ie}}},de=function(e){return{type:"NOTIFICATIONS/NEW",message:{body:e,variant:oe}}},fe=function(e){return{notifications:{notify:function(t){return e(r.notify(t))},notifySuccess:function(t){return e(r.notifySuccess(t))},notifyError:function(t){return e(r.notifyError(t))},notifyWarning:function(t){return e(r.notifyWarning(t))}}}},pe=function(e){return Object(s.b)(null,fe)(function(t){return l.a.createElement(e,t)})},ge=n(90),Ee=n(42),be=n(49),he=n(194),ve=n.n(he),ye=n(195),Oe=n.n(ye),we=n(198),je=n.n(we),ke=n(196),Ne=n.n(ke),Se=n(197),xe=n.n(Se),Ce=function(e){return{success:{backgroundColor:be.green[600]},error:{backgroundColor:be.red[500]},info:{backgroundColor:be.grey[800]},warning:{backgroundColor:be.yellow[800]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing.unit},message:{display:"flex",alignItems:"center"}}},Te={success:ve.a,warning:Oe.a,error:Ne.a,info:xe.a},Ie=Object(d.withStyles)(Ce)(function(e){var t=e.classes,n=e.className,a=e.message,r=e.onClose,c=e.variant,i=Object(ge.a)(e,["classes","className","message","onClose","variant"]),o=Te[c];return l.a.createElement(F.s,Object.assign({className:Object(Ee.a)(t[c],n),message:l.a.createElement("span",{className:t.message},l.a.createElement(o,{className:Object(Ee.a)(t.icon,t.iconVariant)}),a),action:[l.a.createElement(F.j,{key:"close",color:"inherit",onClick:r},l.a.createElement(je.a,{className:t.icon}))]},i))}),Ae=Object(J.a)(Object(s.b)(function(e){return{message:e.notifications.message}}),Object(d.withStyles)(Ce))(function(e){var t=e.message,n=Object(c.useState)(!!t.body),a=Object(M.a)(n,2),r=a[0],i=a[1],o=function(){return i(!1)};Object(c.useEffect)(function(){i(!!t.body)},[t]);return t&&t.body?l.a.createElement(F.r,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:r,autoHideDuration:1400,onClose:o},l.a.createElement(Ie,{onClose:o,variant:t.variant||"info",message:t.body})):null}),Fe=pe,qe=Object(J.a)(Fe,Object(d.withStyles)(function(e){return{root:{padding:3*e.spacing.unit,width:400},header:{display:"flex",justifyContent:"center"},footer:{display:"flex",justifyContent:"center",marginTop:e.spacing.unit},submitButton:{margin:"".concat(2*e.spacing.unit,"px 0"),width:"100%"},submitText:{letterSpacing:.5,fontWeight:700,color:e.palette.primary.contrastText},textField:{width:"100%"}}}),Object(s.b)(null,function(e){return{setUserToken:function(t){return e(a.setToken(t))}}}),u.c)(function(e){var t=e.classes,n=e.client,a=e.history,r=e.notifications,i=e.setUserToken,o=Object(c.useState)({login:"",password:""}),s=Object(M.a)(o,2),u=s[0],d=s[1],f=function(){var e=Object(Q.a)(G.a.mark(function e(t){var c,l;return G.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,n.mutate({mutation:te,variables:{login:u.login,password:u.password}}).then(function(e){return e.data.signIn.token}).catch(function(e){r.notifyError(e.message)});case 3:(c=e.sent)&&(i(c),(l=(l=sessionStorage.getItem("theoTracker"))?JSON.parse(l):{}).token=c,sessionStorage.setItem("theoTracker",JSON.stringify(l)),r.notifySuccess("Logged In Successfully"),a.push("/home"));case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),p=function(e){var t=e.target;d(function(e){return Object(S.a)({},e,Object(B.a)({},t.name,t.value))})};return l.a.createElement(F.q,{className:t.root},l.a.createElement("form",{onSubmit:f},l.a.createElement("div",{className:t.header},l.a.createElement(F.A,{variant:"h5"},"Login")),l.a.createElement(F.y,{label:"Username",name:"login",margin:"normal",variant:"outlined",required:!0,className:t.textField,value:u.login,onChange:p}),l.a.createElement(F.y,{label:"Password",type:"password",name:"password",margin:"normal",variant:"outlined",required:!0,className:t.textField,value:u.password,onChange:p}),l.a.createElement(F.b,{type:"submit",variant:"contained",color:"primary",className:t.submitButton},l.a.createElement(F.A,{variant:"subtitle1",className:t.submitText},"Login")," ",l.a.createElement(X.a,null)),l.a.createElement(F.g,{light:!0}),l.a.createElement("div",{className:t.footer},l.a.createElement(m.b,{to:"/auth/register/"},l.a.createElement(F.b,null,"Create Account")))))}),Ue=Object(J.a)(pe,Object(d.withStyles)(function(e){return{root:{padding:3*e.spacing.unit,width:400},header:{display:"flex",justifyContent:"center"},footer:{display:"flex",justifyContent:"center",marginTop:e.spacing.unit},submitButton:{margin:"".concat(2*e.spacing.unit,"px 0"),width:"100%"},submitText:{letterSpacing:.5,fontWeight:700,color:e.palette.primary.contrastText},textField:{width:"100%"}}}),Object(s.b)(null,function(e){return{setUserToken:function(t){return e(a.setToken(t))}}}),u.c)(function(e){var t=e.classes,n=e.client,a=e.history,r=e.setUserToken,i=Object(c.useState)({username:"",email:"",password:""}),o=Object(M.a)(i,2),s=o[0],u=o[1],d=function(){var e=Object(Q.a)(G.a.mark(function e(t){var c,l;return G.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,n.mutate({mutation:ne,variables:{username:s.username,email:s.email,password:s.password}}).then(function(e){return e.data.signUp.token}).catch(function(e){return alert(e)});case 3:(c=e.sent)&&(r(c),(l=(l=sessionStorage.getItem("theoTracker"))?JSON.parse(l):{}).token=c,sessionStorage.setItem("theoTracker",JSON.stringify(l)),a.push("/home"));case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),f=function(e){var t=e.target;return u(function(e){return Object(S.a)({},e,Object(B.a)({},t.name,t.value))})};return l.a.createElement(F.q,{className:t.root},l.a.createElement("form",{onSubmit:d},l.a.createElement("div",{className:t.header},l.a.createElement(F.A,{variant:"h5"},"Register")),l.a.createElement(F.y,{label:"Username",name:"username",margin:"normal",variant:"outlined",required:!0,className:t.textField,value:s.username,onChange:f}),l.a.createElement(F.y,{label:"Email",name:"email",margin:"normal",variant:"outlined",required:!0,className:t.textField,value:s.email,onChange:f}),l.a.createElement(F.y,{label:"Password",type:"password",name:"password",margin:"normal",variant:"outlined",required:!0,className:t.textField,value:s.password,onChange:f}),l.a.createElement(F.b,{type:"submit",variant:"contained",color:"primary",className:t.submitButton},l.a.createElement(F.A,{variant:"subtitle1",className:t.submitText},"Register")," ",l.a.createElement(X.a,null)),l.a.createElement(F.g,{light:!0}),l.a.createElement("div",{className:t.footer},l.a.createElement(m.b,{to:"/auth/login/"},l.a.createElement(F.b,null,"Have an account?")))))}),Le=V,Re=n(204),$e=n.n(Re);function We(){var e=Object(q.a)(["\n  mutation($file: Upload!, $saveAs: String) {\n    singleUpload(file: $file, saveAs: $saveAs) {\n      filename\n    }\n  }\n"]);return We=function(){return e},e}function Ke(){var e=Object(q.a)(["\n  query($s3Key: String!) {\n    getUploadUrl(s3Key: $s3Key)\n  }\n"]);return Ke=function(){return e},e}function Be(){var e=Object(q.a)(["\n  query {\n    uploads {\n      filename\n      s3Key\n    }\n  }\n"]);return Be=function(){return e},e}var Me=L()(Be()),Je=L()(Ke()),De=L()(We()),He=Object(s.b)(function(e){return{token:e.user.token}})(function(e){var t=e.component,n=e.token,a=Object(ge.a)(e,["component","token"]);if(!n.length){var r=sessionStorage.getItem("theoTracker");r&&(n=JSON.parse(r).token||"")}var c=l.a.createElement(A.b,Object.assign({},a,{component:t})),i=l.a.createElement(A.a,{to:"/auth/login"});return n.length?c:i}),Pe=function(e){var t=e.onLoadFile;return l.a.createElement("input",{type:"file",onChange:function(e){var n=e.target.files;return t(n)}})},ze=n(199),Ve=n.n(ze);function _e(){var e=Object(q.a)(["\n  query {\n    googleMapsKey\n  }\n"]);return _e=function(){return e},e}var Ge=L()(_e()),Qe=Object(d.withStyles)(function(e){return{root:{alignItems:"center",bottom:0,display:"flex",justifyContent:"center",left:0,padding:2*e.spacing.unit,position:"absolute"},content:{cursor:"pointer",padding:2*e.spacing.unit,zIndex:10}}})(function(e){var t=e.classes,n=e.open;e.setOpen;return n?l.a.createElement("div",{className:t.root},l.a.createElement(F.q,{className:t.content},l.a.createElement(F.A,{noWrap:!0},"ID: 12349073"),l.a.createElement(F.A,{noWrap:!0},"Type: Crate"),l.a.createElement(F.A,{noWrap:!0},"Updated: July 08, 2019 4:44PM"),l.a.createElement(m.b,{to:"/assets"},l.a.createElement(F.A,{noWrap:!0},"Details")))):null}),Ze=Object(d.withStyles)(function(){return{root:{alignItems:"center",borderRadius:15,cursor:"pointer",display:"flex",height:30,justifyContent:"center",width:30},marker:{backgroundColor:"red",borderRadius:2,height:10,width:10,position:"relative",transition:".2s"}}})(function(e){var t=e.classes,n=Object(c.useState)(!1),a=Object(M.a)(n,2),r=a[0],i=a[1];return l.a.createElement("div",{className:t.root,onClick:function(e){e.stopPropagation(),i(function(e){return!e})},onMouseEnter:function(){return i(!0)},onMouseLeave:function(){return i(!1)}},l.a.createElement("div",{className:t.marker},l.a.createElement(Qe,{open:r,setOpen:i})))}),Xe=n(200),Ye=n.n(Xe),et=Object(d.withStyles)(function(e){return{textField:{width:0},open:{width:"100%"}}})(function(e){var t=e.classes,n=e.open;return l.a.createElement(F.k,{className:Object(Ee.a)(t.textField,n&&t.open),placeholder:"Search..."})}),tt=Object(d.withStyles)(function(){return{root:{alignItems:"center",background:"rgb(255, 255, 255)",border:"0px none",borderRadius:2,boxShadow:"rgba(0, 0, 0, 0.3) 0px 1px 4px -1px",color:"#666666",cursor:"pointer",display:"flex",height:40,justifyContent:"center",margin:10,position:"absolute",right:50,width:40,top:0,"&:hover":{color:"#333333"}},closeSearch:{visibility:"hidden",width:0},closeSearchVisible:{width:"100%"},open:{width:300},searchIcon:{margin:16}}})(function(e){var t=e.classes,n=Object(c.useState)(!1),a=Object(M.a)(n,2),r=a[0],i=a[1];return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:Object(Ee.a)(r&&t.open,t.root)},l.a.createElement("div",{className:t.closeSearch},l.a.createElement(X.a,null)),l.a.createElement(Ye.a,{onClick:function(){i(!0)},className:t.searchIcon}),l.a.createElement(et,{open:r})))}),nt=Object(d.withStyles)(function(){return{root:{height:"100%",position:"relative",width:"100%"}}})(function(e){var t=e.classes,n=e.center,a=e.markers,r=e.zoom;return l.a.createElement("div",{className:t.root},l.a.createElement(u.b,{query:Ge},function(e){var t=e.data.googleMapsKey;return t?l.a.createElement(Ve.a,{bootstrapURLKeys:{key:t},defaultCenter:n||{lat:30.25,lng:-92},defaultZoom:r||10},a.map(function(e){var t=e.serial,n=e.latitude,a=e.longitude;return l.a.createElement(Ze,{key:t,lat:n,lng:a})})):null}),l.a.createElement(tt,null))}),at=n(202),rt=n.n(at),ct=n(201),lt=n.n(ct),it=Object(J.a)(Object(s.b)(null,function(e){return{clearReduxToken:function(){return e(a.logout())}}}),Fe,A.f,Object(d.withStyles)(function(e){return{headerText:{color:e.palette.primary.contrastText}}}))(function(e){var t=e.classes,n=e.clearReduxToken,a=e.history,r=e.notifications,i=Object(c.useState)(null),o=Object(M.a)(i,2),s=o[0],u=o[1],m=function(e){return function(t){return u(e?null:t.currentTarget)}};return l.a.createElement(l.a.Fragment,null,l.a.createElement(F.j,{onClick:m(),className:t.headerText},l.a.createElement(lt.a,null)),l.a.createElement(F.o,{id:"simple-menu",anchorEl:s,keepMounted:!0,open:Boolean(s),onClose:m("clear")},l.a.createElement(F.p,{onClick:m("clear")},"Profile"),l.a.createElement(F.p,{onClick:m("clear")},"My account"),l.a.createElement(F.p,{onClick:function(){try{n();var e=sessionStorage.getItem("theoTracker");e&&((e=JSON.parse(e)).token="",sessionStorage.setItem("theoTracker",JSON.stringify(e))),r.notify("Logged Out Successfully"),a.push("/app/auth/login")}catch(t){r.notifyError("Error Logging Out")}}},"Logout")))}),ot=Object(d.withStyles)(function(e){return{root:{alignItems:"center",display:"flex",justifyContent:"space-between",height:"100%",width:"100%"},appBar:{},content:{alignItems:"center",display:"flex"},drawerOpen:{paddingLeft:240},filler:e.mixins.toolbar,headerText:{color:e.palette.primary.contrastText},menuIcon:{}}})(function(e){var t=e.classes,n=e.toggleDrawer;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:t.filler}),l.a.createElement(F.a,{className:t.appBar},l.a.createElement(F.z,null,l.a.createElement("div",{className:t.root},l.a.createElement("div",{className:t.content},l.a.createElement(F.j,{onClick:n,className:Object(Ee.a)(t.menuIcon,t.headerText)},l.a.createElement(rt.a,null)),l.a.createElement(F.A,{className:t.headerText,variant:"h6"},"TheoForce")),l.a.createElement("div",null),l.a.createElement(it,null)))))}),st=n(203),ut=n.n(st),mt=Object(J.a)(Object(d.withStyles)(function(e){return{drawer:{flexShrink:0,easing:e.transitions.easing.easeOut,transition:e.transitions.duration.enteringScreen},drawerHeader:{alignItems:"center",display:"flex",justifyContent:"flex-end",height:e.mixins.toolbar.minHeight+8,padding:"0 ".concat(2*e.spacing.unit,"px")},drawerPaper:{width:240,zIndex:e.zIndex.appBar-1}}}),A.f)(function(e){var t=e.classes,n=e.history,a=e.open,r=e.toggleDrawer;return l.a.createElement(F.h,{open:a,onClose:r,classes:{paper:t.drawerPaper}},l.a.createElement("div",{className:t.drawerHeader},l.a.createElement(F.j,{onClick:r},l.a.createElement(ut.a,null))),l.a.createElement(F.g,null),l.a.createElement("div",{className:t.list},l.a.createElement(F.l,null,["Home","Assets","Trackers","Files"].map(function(e){return l.a.createElement(F.m,{button:!0,onClick:(t=e,function(){r(),n.push("/"+t)}),key:e},l.a.createElement(F.n,{primary:e}));var t}))))}),dt=Object(d.withStyles)(function(){return{root:{height:"100%"},belowHeader:{display:"flex"},viewArea:{width:"100%"}}})(function(e){var t=e.classes,n=e.children,a=Object(c.useState)(!1),r=Object(M.a)(a,2),i=r[0],o=r[1],s=function(){return o(function(e){return!e})};return l.a.createElement("div",{className:t.root},l.a.createElement(ot,{open:i,toggleDrawer:s}),l.a.createElement("div",{className:t.belowHeader},l.a.createElement(mt,{open:i,toggleDrawer:s}),n))}),ft=Object(J.a)(Object(d.withStyles)(function(){return{}}),u.c)(function(e){var t=e.classes,n=e.client,a=Object(c.useState)(!1),r=Object(M.a)(a,2),i=r[0],o=r[1],s=Object(c.useState)(null),u=Object(M.a)(s,2),m=u[0],d=u[1],f=Object(c.useState)("no-name"),p=Object(M.a)(f,2),g=p[0],E=p[1],b=function(){return o(!1)};return l.a.createElement(l.a.Fragment,null,l.a.createElement(F.i,{color:"primary",className:t.fab,onClick:function(){return o(!0)}},l.a.createElement(H.a,null)),l.a.createElement(F.c,{open:i},l.a.createElement(F.f,null,"Upload File"),l.a.createElement(F.e,null,l.a.createElement(Pe,{onLoadFile:function(e){d(e[0]),E(e[0].name)}})),l.a.createElement(F.d,null,l.a.createElement(F.b,{onClick:b},"Cancel"),l.a.createElement(F.b,{variant:"contained",color:"primary",onClick:function(){var e={file:m,saveAs:g};n.mutate({mutation:De,variables:e}).then(function(e){var t=e.error,n=e.data;t&&alert(t),n&&b()}).catch(function(e){return alert(e)})}},"Upload"))))}),pt=Object(J.a)(Object(d.withStyles)(function(e){return{root:{margin:3*e.spacing.unit,width:"100%"},downloadIcon:{marginLeft:2*e.spacing.unit},header:{alignItems:"center",display:"flex",justifyContent:"space-between",margin:e.spacing.unit}}}),u.c)(function(e){var t=e.classes,n=e.client,a=function(e){var t=e.s3Key,a=e.filename;return function(){n.query({query:Je,variables:{s3Key:t},fetchPolicy:"network-only"}).then(function(){var e=Object(Q.a)(G.a.mark(function e(t){var n;return G.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.data.getUploadUrl,e.next=3,fetch(n,{method:"GET"}).then(function(e){return e.blob()}).then(function(e){var t=window.URL.createObjectURL(new Blob([e])),n=document.createElement("a");n.href=t,n.setAttribute("download",a),document.body.appendChild(n),n.click(),n.parentNode.removeChild(n)}).catch(function(e){alert(e)});case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())}};return l.a.createElement("div",{className:t.root},l.a.createElement("div",{className:t.header},l.a.createElement(F.A,{variant:"h6"},"Files"),l.a.createElement(ft,null)),l.a.createElement(F.q,null,l.a.createElement(F.t,{className:t.table},l.a.createElement(F.w,null,l.a.createElement(F.x,null,l.a.createElement(F.v,null,"Name"))),l.a.createElement(F.u,null,l.a.createElement(u.b,{query:Me},function(e){var n=e.data,r=e.loading,c=e.error;return r||c?null:n.uploads.map(function(e){return l.a.createElement(F.x,{key:e.id,className:t.tableRow},l.a.createElement(F.v,{align:"left"},e.filename,l.a.createElement(F.j,{className:t.downloadIcon,onClick:a(e)},l.a.createElement($e.a,null))))})})))))});function gt(){var e=Object(q.a)(["\n  query {\n    trackers {\n      id\n      latitude\n      longitude\n      battery\n      serial\n      asset {\n        id\n        identifier\n      }\n    }\n  }\n"]);return gt=function(){return e},e}var Et=L()(gt()),bt=Object(J.a)(Object(d.withStyles)(function(){return{mapContainer:{width:"100%",height:"calc(100vh - 64px)"}}}),u.c)(function(e){var t=e.classes,n=e.client,a=Object(c.useState)([]),r=Object(M.a)(a,2),i=r[0],o=r[1];return n.query({query:Et}).then(function(e){var t=e.data.trackers;return o(t)}),l.a.createElement("div",{className:t.mapContainer},l.a.createElement(nt,{markers:i}))}),ht=Object(d.withStyles)(function(e){return{root:{margin:3*e.spacing.unit,width:"100%"},header:{alignItems:"center",display:"flex",justifyContent:"space-between",margin:e.spacing.unit}}})(function(e){var t=e.classes;return l.a.createElement("div",{className:t.root},l.a.createElement("div",{className:t.header},l.a.createElement(F.A,{variant:"h6"},"Trackers")),l.a.createElement(F.q,null,l.a.createElement(F.t,{className:t.table},l.a.createElement(F.w,null,l.a.createElement(F.x,null,l.a.createElement(F.v,null,"Serial"),l.a.createElement(F.v,null,"Battery"),l.a.createElement(F.v,null,"Longitude"),l.a.createElement(F.v,null,"Latitude"),l.a.createElement(F.v,null,"Asset"))),l.a.createElement(F.u,null,l.a.createElement(u.b,{query:Et},function(e){var n=e.data,a=e.loading,r=e.error;return a||r?null:n.trackers.map(function(e){return l.a.createElement(F.x,{key:e.id,className:t.tableRow,hover:!0},l.a.createElement(F.v,null,e.serial),l.a.createElement(F.v,null,e.battery||"-"),l.a.createElement(F.v,null,e.latitude||"-"),l.a.createElement(F.v,null,e.longitude||"-"),l.a.createElement(F.v,null,e.asset?e.asset.identifier:"-"))})})))))}),vt=Object(d.withStyles)(function(e){return{root:{background:e.palette.background.default,minHeight:"100vh",minWidth:"100vw"}}})(function(e){var t=e.classes;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:t.root},l.a.createElement(A.d,null,l.a.createElement(A.b,{path:"/auth",component:Le}),l.a.createElement(dt,null,l.a.createElement(He,{path:"/assets",component:z}),l.a.createElement(He,{path:"/files",component:pt}),l.a.createElement(He,{path:"/home",component:bt}),l.a.createElement(He,{path:"/trackers",component:ht})),l.a.createElement(A.a,{to:"/auth/login"}))),l.a.createElement(Ae,null))});n(448);o.a.render(l.a.createElement(u.a,{client:w},l.a.createElement(s.a,{store:T},l.a.createElement(m.a,{basename:"/app"},l.a.createElement(d.MuiThemeProvider,{theme:I},l.a.createElement(vt,null))))),document.getElementById("root"))}},[[265,1,2]]]);
//# sourceMappingURL=main.93412d99.chunk.js.map