(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{262:function(e,t,n){e.exports=n(438)},437:function(e,t,n){},438:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"setToken",function(){return Q}),n.d(a,"logout",function(){return Z});var r={};n.r(r),n.d(r,"notify",function(){return te}),n.d(r,"notifySuccess",function(){return ne}),n.d(r,"notifyError",function(){return ae}),n.d(r,"notifyWarning",function(){return re});n(263);var o=n(0),c=n.n(o),i=n(22),l=n.n(i),s=n(25),u=n(54),m=n(30),d=n(36),f=n(191),p=n(55),g=n(192),h=n(177),E=n(24),b=new f.a,y=new g.a({uri:"https://crate-tracker-backend.herokuapp.com/graphql"}),v=Object(h.a)(function(e){e.graphQLErrors,e.networkError}),w=E.a.from([v,y]),O=new p.a({link:w,cache:b}),j=n(40),N=n(178),k={message:{}},S=n(50),x={token:""},T=Object(j.combineReducers)({notifications:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NOTIFICATIONS/NEW":return{message:t.message};default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER/SET_TOKEN":return Object(S.a)({},e,{token:t.token});case"USER/CLEAR_TOKEN":return{token:""};default:return e}}}),C=Object(j.createStore)(T,Object(N.composeWithDevTools)()),I=Object(d.createMuiTheme)({typography:{useNextVariants:!0},overrides:{MuiButton:{label:{textTransform:"none"}}},props:{MuiTextField:{variant:"outlined"}}}),F=n(35),W=Object(d.withStyles)(function(){return{root:{display:"flex",justifyContent:"center",paddingTop:200,width:"100%"}}})(function(e){var t=e.classes,n=e.match;return c.a.createElement("div",{className:t.root},c.a.createElement(F.d,null,c.a.createElement(F.b,{path:n.url+"/login",component:ke}),c.a.createElement(F.b,{path:n.url+"/register",component:Se}),c.a.createElement(F.a,{to:"/auth/login"})))}),R=n(51),U=n(56),H=n.n(U),L=n(84),P=n(26),M=n(38),A=n(5),D=n(53),J=n.n(D),$=n(121),B=n(122),q=n.n(B);function z(){var e=Object($.a)(["\n  mutation($username: String!, $email: String!, $password: String!) {\n    signUp(username: $username, email: $email, password: $password) {\n      token\n    }\n  }\n"]);return z=function(){return e},e}function K(){var e=Object($.a)(["\n  mutation($login: String!, $password: String!) {\n    signIn(login: $login, password: $password) {\n      token\n    }\n  }\n"]);return K=function(){return e},e}var _=q()(K()),V=q()(z()),Q=function(e){return{type:"USER/SET_TOKEN",token:e}},Z=function(){return{type:"USER/CLEAR_TOKEN"}},G="info",X="success",Y="error",ee="warning",te=function(e){return{type:"NOTIFICATIONS/NEW",message:{body:e,variant:G}}},ne=function(e){return{type:"NOTIFICATIONS/NEW",message:{body:e,variant:X}}},ae=function(e){return{type:"NOTIFICATIONS/NEW",message:{body:e,variant:Y}}},re=function(e){return{type:"NOTIFICATIONS/NEW",message:{body:e,variant:ee}}},oe=function(e){return{notifications:{notify:function(t){return e(r.notify(t))},notifySuccess:function(t){return e(r.notifySuccess(t))},notifyError:function(t){return e(r.notifyError(t))},notifyWarning:function(t){return e(r.notifyWarning(t))}}}},ce=function(e){return Object(s.b)(null,oe)(function(t){return c.a.createElement(e,t)})},ie=n(85),le=n(68),se=n(41),ue=n(181),me=n.n(ue),de=n(182),fe=n.n(de),pe=n(185),ge=n.n(pe),he=n(183),Ee=n.n(he),be=n(184),ye=n.n(be),ve=function(e){return{success:{backgroundColor:se.green[600]},error:{backgroundColor:se.red[500]},info:{backgroundColor:se.grey[800]},warning:{backgroundColor:se.yellow[800]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing.unit},message:{display:"flex",alignItems:"center"}}},we={success:me.a,warning:fe.a,error:Ee.a,info:ye.a},Oe=Object(d.withStyles)(ve)(function(e){var t=e.classes,n=e.className,a=e.message,r=e.onClose,o=e.variant,i=Object(ie.a)(e,["classes","className","message","onClose","variant"]),l=we[o];return c.a.createElement(A.m,Object.assign({className:Object(le.a)(t[o],n),message:c.a.createElement("span",{className:t.message},c.a.createElement(l,{className:Object(le.a)(t.icon,t.iconVariant)}),a),action:[c.a.createElement(A.e,{key:"close",color:"inherit",onClick:r},c.a.createElement(ge.a,{className:t.icon}))]},i))}),je=Object(M.a)(Object(s.b)(function(e){return{message:e.notifications.message}}),Object(d.withStyles)(ve))(function(e){var t=e.message,n=Object(o.useState)(!!t.body),a=Object(P.a)(n,2),r=a[0],i=a[1],l=function(){return i(!1)};Object(o.useEffect)(function(){i(!!t.body)},[t]);return t&&t.body?c.a.createElement(A.l,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:r,autoHideDuration:1400,onClose:l},c.a.createElement(Oe,{onClose:l,variant:t.variant||"info",message:t.body})):null}),Ne=ce,ke=Object(M.a)(Ne,Object(d.withStyles)(function(e){return{root:{padding:3*e.spacing.unit,width:400},header:{display:"flex",justifyContent:"center"},footer:{display:"flex",justifyContent:"center",marginTop:e.spacing.unit},submitButton:{margin:"".concat(2*e.spacing.unit,"px 0"),width:"100%"},submitText:{letterSpacing:.5,fontWeight:700,color:e.palette.primary.contrastText},textField:{width:"100%"}}}),Object(s.b)(null,function(e){return{setUserToken:function(t){return e(a.setToken(t))}}}),u.b)(function(e){var t=e.classes,n=e.client,a=e.history,r=e.notifications,i=e.setUserToken,l=Object(o.useState)({login:"",password:""}),s=Object(P.a)(l,2),u=s[0],d=s[1],f=function(){var e=Object(L.a)(H.a.mark(function e(t){var o,c;return H.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,n.mutate({mutation:_,variables:{login:u.login,password:u.password}}).then(function(e){return e.data.signIn.token}).catch(function(e){r.notifyError(e.message)});case 3:(o=e.sent)&&(i(o),(c=(c=sessionStorage.getItem("theoTracker"))?JSON.parse(c):{}).token=o,sessionStorage.setItem("theoTracker",JSON.stringify(c)),r.notifySuccess("Logged In Successfully"),a.push("/home"));case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),p=function(e){var t=e.target;d(function(e){return Object(S.a)({},e,Object(R.a)({},t.name,t.value))})};return c.a.createElement(A.k,{className:t.root},c.a.createElement("form",{onSubmit:f},c.a.createElement("div",{className:t.header},c.a.createElement(A.p,{variant:"h5"},"Login")),c.a.createElement(A.n,{label:"Username",name:"login",margin:"normal",variant:"outlined",required:!0,className:t.textField,value:u.login,onChange:p}),c.a.createElement(A.n,{label:"Password",type:"password",name:"password",margin:"normal",variant:"outlined",required:!0,className:t.textField,value:u.password,onChange:p}),c.a.createElement(A.b,{type:"submit",variant:"contained",color:"primary",className:t.submitButton},c.a.createElement(A.p,{variant:"subtitle1",className:t.submitText},"Login")," ",c.a.createElement(J.a,null)),c.a.createElement(A.c,{light:!0}),c.a.createElement("div",{className:t.footer},c.a.createElement(m.b,{to:"/auth/register/"},c.a.createElement(A.b,null,"Create Account")))))}),Se=Object(M.a)(ce,Object(d.withStyles)(function(e){return{root:{padding:3*e.spacing.unit,width:400},header:{display:"flex",justifyContent:"center"},footer:{display:"flex",justifyContent:"center",marginTop:e.spacing.unit},submitButton:{margin:"".concat(2*e.spacing.unit,"px 0"),width:"100%"},submitText:{letterSpacing:.5,fontWeight:700,color:e.palette.primary.contrastText},textField:{width:"100%"}}}),Object(s.b)(null,function(e){return{setUserToken:function(t){return e(a.setToken(t))}}}),u.b)(function(e){var t=e.classes,n=e.client,a=e.history,r=e.setUserToken,i=Object(o.useState)({username:"",email:"",password:""}),l=Object(P.a)(i,2),s=l[0],u=l[1],d=function(){var e=Object(L.a)(H.a.mark(function e(t){var o,c;return H.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,n.mutate({mutation:V,variables:{username:s.username,email:s.email,password:s.password}}).then(function(e){return e.data.signUp.token}).catch(function(e){return alert(e)});case 3:(o=e.sent)&&(r(o),(c=(c=sessionStorage.getItem("theoTracker"))?JSON.parse(c):{}).token=o,sessionStorage.setItem("theoTracker",JSON.stringify(c)),a.push("/home"));case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),f=function(e){var t=e.target;return u(function(e){return Object(S.a)({},e,Object(R.a)({},t.name,t.value))})};return c.a.createElement(A.k,{className:t.root},c.a.createElement("form",{onSubmit:d},c.a.createElement("div",{className:t.header},c.a.createElement(A.p,{variant:"h5"},"Register")),c.a.createElement(A.n,{label:"Username",name:"username",margin:"normal",variant:"outlined",required:!0,className:t.textField,value:s.username,onChange:f}),c.a.createElement(A.n,{label:"Email",name:"email",margin:"normal",variant:"outlined",required:!0,className:t.textField,value:s.email,onChange:f}),c.a.createElement(A.n,{label:"Password",type:"password",name:"password",margin:"normal",variant:"outlined",required:!0,className:t.textField,value:s.password,onChange:f}),c.a.createElement(A.b,{type:"submit",variant:"contained",color:"primary",className:t.submitButton},c.a.createElement(A.p,{variant:"subtitle1",className:t.submitText},"Register")," ",c.a.createElement(J.a,null)),c.a.createElement(A.c,{light:!0}),c.a.createElement("div",{className:t.footer},c.a.createElement(m.b,{to:"/auth/login/"},c.a.createElement(A.b,null,"Have an account?")))))}),xe=W,Te=Object(s.b)(function(e){return{token:e.user.token}})(function(e){var t=e.component,n=e.token,a=Object(ie.a)(e,["component","token"]);if(!n.length){var r=sessionStorage.getItem("theoTracker");r&&(n=JSON.parse(r).token||"")}var o=c.a.createElement(F.b,Object.assign({},a,{component:t})),i=c.a.createElement(F.a,{to:"/auth/login"});return n.length?o:i}),Ce=n(186),Ie=n.n(Ce),Fe=Object(d.withStyles)(function(e){return{root:{alignItems:"center",bottom:0,display:"flex",justifyContent:"center",left:0,padding:2*e.spacing.unit,position:"absolute"},content:{cursor:"pointer",padding:2*e.spacing.unit}}})(function(e){var t=e.classes,n=e.open;e.setOpen;return n?c.a.createElement("div",{className:t.root},c.a.createElement(A.k,{className:t.content},c.a.createElement(A.p,{noWrap:!0},"ID: 12349073"),c.a.createElement(A.p,{noWrap:!0},"Type: Crate"),c.a.createElement(A.p,{noWrap:!0},"Updated: July 08, 2019 4:44PM"),c.a.createElement(m.b,null,c.a.createElement(A.p,{noWrap:!0},"Details")))):null}),We=Object(d.withStyles)(function(){return{root:{alignItems:"center",borderRadius:15,cursor:"pointer",display:"flex",height:30,justifyContent:"center",width:30},marker:{backgroundColor:"red",height:10,width:10,position:"relative",transition:".2s"}}})(function(e){var t=e.classes,n=Object(o.useState)(!1),a=Object(P.a)(n,2),r=a[0],i=a[1];return c.a.createElement("div",{className:t.root,onClick:function(e){e.stopPropagation(),i(function(e){return!e})},onMouseEnter:function(){return i(!0)},onMouseLeave:function(){return i(!1)}},c.a.createElement("div",{className:t.marker},c.a.createElement(Fe,{open:r,setOpen:i})))}),Re=n(187),Ue=n.n(Re),He=Object(d.withStyles)(function(e){return{drawer:{width:280,flexShrink:0},drawerHeader:{alignItems:"center",display:"flex",justifyContent:"flex-start",height:e.mixins.toolbar.minHeight+8,padding:"0 ".concat(2*e.spacing.unit,"px")}}})(function(e){var t=e.classes,n=e.open,a=e.closeFiltersPanel;return c.a.createElement(A.d,{PaperProps:{style:{zIndex:1099,width:280}},anchor:"right",open:n,onClose:a,className:t.drawer},c.a.createElement("div",{className:t.drawerHeader},c.a.createElement(A.e,{onClick:a},c.a.createElement(J.a,null))),c.a.createElement(A.c,null),c.a.createElement("div",{className:t.list},c.a.createElement(A.f,null,["Home","Inspections","Stuff","More Stuff"].map(function(e){return c.a.createElement(A.g,{button:!0,key:e},c.a.createElement(A.h,{primary:e}))}))))}),Le=Object(d.withStyles)(function(){return{root:{alignItems:"center",background:"rgb(255, 255, 255)",border:"0px none",borderRadius:2,boxShadow:"rgba(0, 0, 0, 0.3) 0px 1px 4px -1px",color:"#666666",cursor:"pointer",display:"flex",height:40,justifyContent:"center",margin:10,position:"absolute",right:50,width:40,top:0,"&:hover":{color:"#333333"}},searchIcon:{}}})(function(e){var t=e.classes,n=Object(o.useState)(!1),a=Object(P.a)(n,2),r=a[0],i=a[1];return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:t.root},c.a.createElement(Ue.a,{onClick:function(){return i(!0)},className:t.searchIcon})),c.a.createElement(He,{open:r,closeFiltersPanel:function(){return i(!1)}}))}),Pe=Object(d.withStyles)(function(){return{root:{height:"100%",position:"relative",width:"100%"}}})(function(e){var t=e.classes,n=e.center,a=e.zoom;return c.a.createElement("div",{className:t.root},c.a.createElement(Ie.a,{bootstrapURLKeys:{key:!1},defaultCenter:n||{lat:30.25,lng:-92},defaultZoom:a||10},c.a.createElement(We,{lat:30.5,lng:-92}),c.a.createElement(We,{lat:30.2,lng:-92.2})),c.a.createElement(Le,null))}),Me=n(189),Ae=n.n(Me),De=n(188),Je=n.n(De),$e=Object(M.a)(Object(s.b)(null,function(e){return{clearReduxToken:function(){return e(a.logout())}}}),Ne,F.f,Object(d.withStyles)(function(e){return{headerText:{color:e.palette.primary.contrastText}}}))(function(e){var t=e.classes,n=e.clearReduxToken,a=e.history,r=e.notifications,i=Object(o.useState)(null),l=Object(P.a)(i,2),s=l[0],u=l[1],m=function(e){return function(t){return u(e?null:t.currentTarget)}};return c.a.createElement(c.a.Fragment,null,c.a.createElement(A.e,{onClick:m(),className:t.headerText},c.a.createElement(Je.a,null)),c.a.createElement(A.i,{id:"simple-menu",anchorEl:s,keepMounted:!0,open:Boolean(s),onClose:m("clear")},c.a.createElement(A.j,{onClick:m("clear")},"Profile"),c.a.createElement(A.j,{onClick:m("clear")},"My account"),c.a.createElement(A.j,{onClick:function(){try{n();var e=sessionStorage.getItem("theoTracker");e&&((e=JSON.parse(e)).token="",sessionStorage.setItem("theoTracker",JSON.stringify(e))),r.notify("Logged Out Successfully"),a.push("/app/auth/login")}catch(t){r.notifyError("Error Logging Out")}}},"Logout")))}),Be=Object(d.withStyles)(function(e){return{root:{alignItems:"center",display:"flex",justifyContent:"space-between",height:"100%",width:"100%"},content:{alignItems:"center",display:"flex"},drawerOpen:{paddingLeft:240},filler:e.mixins.toolbar,headerText:{color:e.palette.primary.contrastText},menuIcon:{}}})(function(e){var t=e.classes,n=(e.open,e.toggleDrawer);return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:t.filler}),c.a.createElement(A.a,null,c.a.createElement(A.o,null,c.a.createElement("div",{className:t.root},c.a.createElement("div",{className:t.content},c.a.createElement(A.e,{onClick:n,className:Object(le.a)(t.menuIcon,t.headerText)},c.a.createElement(Ae.a,null)),c.a.createElement(A.p,{className:t.headerText,variant:"h6"},"TheoForce")),c.a.createElement("div",null),c.a.createElement($e,null)))))}),qe=n(190),ze=n.n(qe),Ke=Object(d.withStyles)(function(e){return{drawer:{width:240,flexShrink:0},drawerHeader:{alignItems:"center",display:"flex",justifyContent:"flex-end",height:e.mixins.toolbar.minHeight+8,padding:"0 ".concat(2*e.spacing.unit,"px")}}})(function(e){var t=e.classes,n=e.open,a=e.closeDrawer;return c.a.createElement(A.d,{PaperProps:{style:{zIndex:1099,width:240}},open:n,onClose:a,className:t.drawer},c.a.createElement("div",{className:t.drawerHeader},c.a.createElement(A.e,{onClick:a},c.a.createElement(ze.a,null))),c.a.createElement(A.c,null),c.a.createElement("div",{className:t.list},c.a.createElement(A.f,null,["Home","Inspections","Stuff","More Stuff"].map(function(e){return c.a.createElement(A.g,{button:!0,key:e},c.a.createElement(A.h,{primary:e}))}))))}),_e=Object(d.withStyles)(function(){return{root:{height:"100%"},belowHeader:{},viewArea:{}}})(function(e){var t=e.classes,n=e.children,a=Object(o.useState)(!1),r=Object(P.a)(a,2),i=r[0],l=r[1];return c.a.createElement("div",{className:t.root},c.a.createElement(Be,{open:i,toggleDrawer:function(){return l(function(e){return!e})}}),c.a.createElement("div",{className:t.belowHeader},c.a.createElement(Ke,{open:i,closeDrawer:function(){return l(!1)}}),c.a.createElement("div",{className:t.viewArea},n)))}),Ve=Object(d.withStyles)(function(){return{mapContainer:{width:"100%",height:"calc(100vh - 64px)"}}})(function(e){var t=e.classes;return c.a.createElement(_e,null,c.a.createElement("div",{className:t.mapContainer},c.a.createElement(Pe,null)))}),Qe=Object(d.withStyles)(function(e){return{root:{background:e.palette.background.default,minHeight:"100vh",minWidth:"100vw"}}})(function(e){var t=e.classes;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:t.root},c.a.createElement(F.d,null,c.a.createElement(F.b,{path:"/auth",component:xe}),c.a.createElement(Te,{path:"/home",component:Ve}),c.a.createElement(F.a,{to:"/auth/login"}))),c.a.createElement(je,null))});n(437);l.a.render(c.a.createElement(u.a,{client:O},c.a.createElement(s.a,{store:C},c.a.createElement(m.a,{basename:"/app"},c.a.createElement(d.MuiThemeProvider,{theme:I},c.a.createElement(Qe,null))))),document.getElementById("root"))}},[[262,1,2]]]);
//# sourceMappingURL=main.a599f6f6.chunk.js.map